<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:p="http://primefaces.org/ui"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:cc="http://java.sun.com/jsf/composite/cc">
	
	<h:form id="orderActiveColumnsForm" rendered="#{columnOperationsBean.selectedOperation == 'orderActiveColumns' and fn:length(columnOperationsBean.activeColumns) > 0}">
		
		<h:panelGrid columns="1" style="text-align:center">
			<p:orderList style="width:100%; height:auto;" value="#{columnOperationsBean.activeColumns}"  var="column" itemValue="#{column}" converter="#{columnConverter}" iconOnly="true" 
						 effect="clip" controlsLocation="left" >  
		        	
	        	<f:facet name="caption">
		        	<h:outputText value="#{msg['column.activeColumns']}"/> 
		        </f:facet>  
		 		
		 		<p:column>
		         	<cc:image photo="#{column.columnist.photo}" size="thumb" />
		        </p:column>
		        
		        <p:column>
		        	<h:outputText value="#{column.columnist.firstname} #{column.columnist.lastname}" />
		        </p:column>
		        
		 		<p:column>
		         	<h:outputText value="#{column.title} " />  
		        </p:column>
			   
		    </p:orderList>
		   
		    <p:commandButton id="orderColumnsButton" value="#{msg['column.orderColumns']}" action="#{columnOperationsBean.activeColumnsOrderChanged}" update="@form"/>
		</h:panelGrid>
	</h:form>	
</html>